<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 10</title>
</head>
<body>
    
    <h2>Agenda Bus</h2>

    Registre aqui seu ônibus: <input id="registro" type="text"> <br>
    <button onclick="gravar()">Gravar busão</button> <br>

    Pesquisar linhas no meu histórico: <input id="pesquisa" type="text"> <br>
    <button onclick="pesquisar()">Pesquisar</button>

    <div id="msg"></div>
    <div id="msg2"></div>

</body>
</html>
<script>

    var historico = []
    var achados = []
    var procurador = 0

    function gravar() {

        if ((registro.value).length > 0) {

            msg.innerHTML = ``
            historico.push(registro.value)

            for (var operador = historico.length -1; operador>=0; operador--) {
                msg.innerHTML += `<br>${historico[operador]}`
            }

        }

        else {
            alert ('Não há valor no campo')
        }

    }

    function pesquisar() {

        procurador = 0
        achados = []

        for (var contador = 0; contador <= historico.length; contador++) {

            if (historico[contador] == pesquisa.value) {
                procurador++
                achados.push(contador + Number(1))
            }

            else {
                msg2.innerHTML = `Você não pegou essa linha`
            }

        }

        if (procurador > 0) {
            msg2.innerHTML = `Você já pegou essa linha ${procurador} vezes, nessa ordem ${achados}`
        }

    }

</script>
