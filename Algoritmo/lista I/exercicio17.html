<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 17</title>
</head>
<body>

    <h1>Análise de performance de alunos - Registro</h1>

    <div id="telaum" style="display: block;">
        Entre com o nome do aluno   <input id="nome_input" type="text"> <br>
        Entre com a nota do aluno   <input id="nota_input" type="number"> <br>
        <button onclick="registrar()">Registrar</button>
        <button onclick="analisar()">Analisar</button>

        <div id="msglista"></div>
    </div>

    <div id="teladois" style="display: none;">
        Entre com o intervalo das notas: 
        <input id="comecoint" type="number" placeholder="DE..."> 
        <input id="finalint" type="number" placeholder="ATÉ..."> <br>
        <button onclick="pesquisar()">Pesquisar</button>
        <div id="msgnotas"></div>
        <div id="msgestatisticas"></div>
    </div>

</body>
</html>
<script>

    var alunos = []
    var notas = []
    var de_nota 
    var ate_nota
    var ax_totallistados = 0
    var maior_nota = 0
    var menor_nota = 10

    function registrar() {

        if (nome_input.value == '' || nota_input.value == '') {
            alert('Todos os campos tem que ser preenchidos!')
        }

        else if (nota_input.value<0 || nota_input.value>10) {
            alert('A nota não pode ser menor que 0 nem maior que 10!')
        }

        else {
            alunos.push(nome_input.value);
            notas.push(nota_input.value);
        }

        nome_input.value = '';
        nota_input.value = '';

        listagem()

    } 

    function listagem() {

        msglista.innerHTML = ''

        for (var contador = 0; contador<alunos.length; contador++) {
            
            msglista.innerHTML += `<br>  <b>${contador + Number(1)}.</b> Nome do aluno: <b>${alunos[contador]}</b> Nota: <b>${notas[contador]}</b>`

        }

    }

    function analisar() {
        telaum.style.display = 'none'
        teladois.style.display = 'block'
    }

    function pesquisar() {

        de_nota = Number (comecoint.value);
        ate_nota = Number (finalint.value);

        pesquisando()

    }

    function pesquisando() {

        msgnotas.innerHTML = ''

        if (de_nota<0 || de_nota>10 || de_nota>ate_nota) {
            alert('O primeiro campo está errado')
        }

        else if (ate_nota<0 || ate_nota>10) {
            alert('O segundo campo está errado')
        }

        else {
            for (var operador = 0; operador<notas.length; operador++) {
                if (notas[operador]>=de_nota && notas[operador]<=ate_nota) {
                    msgnotas.innerHTML += `<br> O aluno ${alunos[operador]} ficou com a nota ${notas[operador]}`
                    ax_totallistados++;
                }
                else {
                    msgnotas.innerHTML += ``;
                }
            }
        }

        de_nota = 0;
        ate_nota = 0;
    
        registros() 

    }

    // function registros() {

    //     for (var i = 0; i<notas.length; i++) {
    //         if (Number (notas[i])>Number(maior_nota)) {
    //             maior_nota = Number(notas[i])
    //         }
    //         if ()
    //     }

    //     msgestatisticas.innerHTML = `<br> 
    //     Total de alunos: ${alunos.length} <br>
    //     Total de alunos listados: ${ax_totallistados} <br>
    //     Maior nota: ${maior_nota} <br>
    //     Menor nota: ${menor_nota} <br> 
    //     `

    //     ax_totallistados = 0
    // }

</script>